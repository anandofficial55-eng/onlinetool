<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Free Online PDF Editor ‚Äì Edit, Annotate, Sign & Add Links to PDFs | EasyWebTools</title>

    <meta name="description" content="Edit PDF files online for free ‚Äî no signup, no watermarks. Add text, images, shapes, clickable links, highlights & digital signatures to any PDF. Works on mobile, tablet & desktop. Secure browser-based PDF editor by EasyWebTools.">

    <meta name="keywords" content="PDF editor, free PDF editor, online PDF editor, edit PDF online, annotate PDF, sign PDF online, add text to PDF, PDF tools, free PDF annotation, PDF markup tool, edit PDF without software, browser PDF editor, PDF signature tool, add images to PDF, draw on PDF, highlight PDF online, PDF link editor, modify PDF online, secure PDF editor, no signup PDF editor, add hyperlink to PDF, PDF editor no watermark, mobile PDF editor, edit PDF on phone, free PDF signing tool, PDF annotation tool online, add shapes to PDF, PDF highlighter online, multi page PDF editor">

    <meta name="author" content="EasyWebTools">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">

    <link rel="canonical" href="https://easywebtools.in/pdf-editor">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://easywebtools.in/pdf-editor">
    <meta property="og:title" content="Free Online PDF Editor ‚Äì Edit, Annotate, Sign & Add Links to PDFs">
    <meta property="og:description" content="Edit any PDF file online in seconds. Add text, images, shapes, clickable hyperlinks, highlights & digital signatures. 100% free, no registration, no watermarks. Privacy-first PDF editor by EasyWebTools.">
    <meta property="og:image" content="https://easywebtools.in/images/pdf-editor-og.png">
    <meta property="og:site_name" content="EasyWebTools">
    <meta property="og:locale" content="en_US">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://easywebtools.in/pdf-editor">
    <meta name="twitter:title" content="Free Online PDF Editor ‚Äì Edit, Sign & Annotate PDFs Instantly | EasyWebTools">
    <meta name="twitter:description" content="Edit PDF files for free in your browser. Add text, images, shapes, links & signatures. No signup, no watermarks. Fast, private & secure.">
    <meta name="twitter:image" content="https://easywebtools.in/images/pdf-editor-og.png">
    
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">

    <!-- Structured Data: WebApplication -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "EasyWebTools Free Online PDF Editor",
        "url": "https://easywebtools.in/pdf-editor",
        "description": "A powerful, privacy-first PDF editor that works entirely in your browser. Add text, images, shapes, clickable hyperlinks, highlights and digital signatures to any PDF file ‚Äî completely free, no signup required.",
        "applicationCategory": "UtilityApplication",
        "operatingSystem": "Any",
        "browserRequirements": "Requires a modern web browser with JavaScript enabled",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "creator": {
            "@type": "Organization",
            "name": "EasyWebTools",
            "url": "https://easywebtools.in"
        },
        "featureList": [
            "Edit PDF files online for free",
            "Add custom text with font size and color options",
            "Insert images (PNG, JPG, GIF, WebP) into PDF",
            "Draw rectangles, circles, and lines on PDF",
            "Add fully clickable hyperlinks to PDF",
            "Sign PDFs with digital signature using mouse or touchscreen",
            "Highlight important text and sections",
            "Freehand drawing and annotation on PDF pages",
            "Undo up to 30 changes with Ctrl+Z support",
            "Multi-page PDF editing with thumbnail navigation",
            "Zoom in and out for precision editing",
            "No signup, no login, no registration required",
            "No watermarks on downloaded PDFs",
            "100% client-side processing ‚Äî files never leave your device",
            "Works on desktop, tablet, and mobile browsers",
            "Select, move, resize, and delete any added element"
        ]
    }
    </script>

    <!-- Structured Data: FAQ -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
            {
                "@type": "Question",
                "name": "Is EasyWebTools PDF Editor completely free?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Yes, EasyWebTools PDF Editor is 100% free to use. There are no hidden charges, no premium tiers, and no feature locks. You can add text, images, shapes, clickable links, highlights, and digital signatures to your PDF without paying anything. Downloaded PDFs have no watermarks or branding."
                }
            },
            {
                "@type": "Question",
                "name": "What editing features does this online PDF Editor offer?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "You can add custom text (with adjustable font size and color), insert images (PNG, JPG, GIF, WebP), draw shapes (rectangles, circles, lines), place clickable hyperlinks, highlight sections, use freehand drawing for annotations, and add digital signatures. You can also select, move, resize, and delete any element you add."
                }
            },
            {
                "@type": "Question",
                "name": "Is it safe to edit my PDF files online with this tool?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Absolutely. EasyWebTools PDF Editor processes your files entirely in your web browser using client-side JavaScript. Your PDF is never uploaded to any external server. All editing happens locally on your device, which means your documents remain 100% private and secure at all times."
                }
            },
            {
                "@type": "Question",
                "name": "Do I need to sign up or create an account?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "No. There is no signup, login, email verification, or registration required. Simply visit the page, upload your PDF file, and start editing immediately. All features are accessible without any account."
                }
            },
            {
                "@type": "Question",
                "name": "How do I add a digital signature to a PDF online?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Click the 'Sign' button in the toolbar. A signature pad will open where you can draw your signature using a mouse, trackpad, or your finger on a touchscreen device. Once drawn, click 'Add Signature' to place it on any page of your PDF. The signature is embedded directly into the downloaded PDF file."
                }
            },
            {
                "@type": "Question",
                "name": "Can I insert clickable hyperlinks into a PDF?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Yes. Select the 'Link' tool from the toolbar, draw a rectangle over the area where you want the link, enter the destination URL, and click 'Add Link'. The hyperlink will be fully clickable when the PDF is opened in any standard PDF reader such as Adobe Acrobat, Google Chrome, Apple Preview, or Firefox."
                }
            },
            {
                "@type": "Question",
                "name": "Does this PDF editor work on mobile phones and tablets?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Yes. EasyWebTools PDF Editor is fully responsive and optimized for all screen sizes. It works on smartphones, tablets, laptops, and desktop computers. You can edit PDFs on the go using any modern web browser including Chrome, Safari, Firefox, Edge, and Samsung Internet."
                }
            },
            {
                "@type": "Question",
                "name": "Can I edit a PDF that has multiple pages?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Yes, multi-page PDF editing is fully supported. Use the page thumbnails on the left sidebar or the navigation arrows in the toolbar to switch between pages. Edits on each page are saved independently, and all changes across every page are included in the final downloaded PDF."
                }
            },
            {
                "@type": "Question",
                "name": "What file formats can I upload and insert?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "The editor accepts PDF files (.pdf) as the main document for editing. You can insert images in PNG, JPG, GIF, and WebP formats into your PDF. The final output is always a standard, universally compatible PDF file that can be opened in any PDF viewer."
                }
            },
            {
                "@type": "Question",
                "name": "Can I undo mistakes while editing my PDF?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Yes. You can undo recent changes by clicking the Undo button in the toolbar or by pressing Ctrl+Z (Cmd+Z on Mac). The editor supports up to 30 undo steps, so you can experiment freely without worrying about making irreversible mistakes."
                }
            },
            {
                "@type": "Question",
                "name": "Does the PDF editor add watermarks to my file?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "No. Unlike many other online PDF editors, EasyWebTools does not add any watermarks, branding, or logos to your edited PDF. The downloaded file is clean and professional, exactly as you edited it."
                }
            },
            {
                "@type": "Question",
                "name": "How do I download my edited PDF?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "After making your edits, click the green 'Download' button in the top-right corner of the editor. Your edited PDF will be saved to your device with all changes ‚Äî including text, images, shapes, links, and signatures ‚Äî applied. Your original PDF file remains untouched."
                }
            }
        ]
    }
    </script>

    <!-- Structured Data: HowTo -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "HowTo",
        "name": "How to Edit a PDF File Online for Free Using EasyWebTools",
        "description": "Follow these three simple steps to edit any PDF file online using EasyWebTools free PDF editor. Add text, images, shapes, clickable links, highlights, and digital signatures ‚Äî no software or signup needed.",
        "totalTime": "PT2M",
        "tool": {
            "@type": "HowToTool",
            "name": "Modern web browser (Chrome, Firefox, Safari, Edge)"
        },
        "step": [
            {
                "@type": "HowToStep",
                "position": 1,
                "name": "Upload Your PDF File",
                "text": "Open EasyWebTools PDF Editor in your browser. Click the 'Select PDF File' button or drag and drop your PDF file into the upload area. Your file is processed locally in your browser ‚Äî nothing is sent to any server."
            },
            {
                "@type": "HowToStep",
                "position": 2,
                "name": "Edit, Annotate & Sign Your PDF",
                "text": "Use the toolbar to add text, insert images, draw shapes (rectangles, circles, lines), place clickable hyperlinks, highlight important sections, use freehand drawing, or add your digital signature. Navigate between pages using the sidebar thumbnails or navigation arrows. Use zoom controls for precision editing."
            },
            {
                "@type": "HowToStep",
                "position": 3,
                "name": "Download Your Edited PDF",
                "text": "Click the green 'Download' button to save your edited PDF with all changes applied. The output is a standard PDF file compatible with all PDF readers. Your original file remains unchanged."
            }
        ]
    }
    </script>

    <!-- Structured Data: BreadcrumbList -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "Home",
                "item": "https://easywebtools.in/"
            },
            {
                "@type": "ListItem",
                "position": 2,
                "name": "Free Online PDF Editor",
                "item": "https://easywebtools.in/pdf-editor"
            }
        ]
    }
    </script>

    <!-- Structured Data: SoftwareApplication (additional) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "EasyWebTools PDF Editor",
        "applicationCategory": "BrowserApplication",
        "operatingSystem": "Any (Web Browser)",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "ratingCount": "1250",
            "bestRating": "5",
            "worstRating": "1"
        }
    }
    </script>

    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìù</text></svg>">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <style>
        :root{--primary:#7c3aed;--primary-dark:#6d28d9;--primary-light:#a78bfa;--accent:#7c3aed;--bg-cream:#fafafa;--bg-warm:#f5f3ff;--bg-soft:#f3f4f6;--text-dark:#1a1a2e;--text-mid:#4a5568;--text-light:#718096;--border:#e5e7eb;--shadow:0 4px 20px rgba(124,58,237,0.08);--shadow-lg:0 20px 60px rgba(124,58,237,0.12);--radius:12px}
        *{margin:0;padding:0;box-sizing:border-box}
        body{font-family:'DM Sans',sans-serif;background:var(--bg-cream);color:var(--text-dark);line-height:1.6}
        .bg-pattern{position:fixed;inset:0;background-image:radial-gradient(circle at 20% 80%,rgba(124,58,237,0.05) 0%,transparent 50%),radial-gradient(circle at 80% 20%,rgba(167,139,250,0.05) 0%,transparent 50%);pointer-events:none;z-index:0}
        .header{position:sticky;top:0;background:rgba(254,252,248,0.9);backdrop-filter:blur(20px);padding:14px 24px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--border);z-index:100}
        .logo{display:flex;align-items:center;gap:12px;text-decoration:none}
        .logo-icon{width:44px;height:44px;background:linear-gradient(135deg,var(--primary),var(--primary-dark));border-radius:var(--radius);display:flex;align-items:center;justify-content:center;font-size:22px;box-shadow:0 4px 15px rgba(255,107,53,0.3)}
        .logo-text{font-family:'Playfair Display',serif;font-size:24px;font-weight:700;color:var(--text-dark)}
        .logo-text span{color:var(--primary)}
        .btn{padding:12px 24px;border-radius:var(--radius);font-size:14px;font-weight:600;cursor:pointer;border:none;font-family:inherit;transition:all 0.3s ease;display:inline-flex;align-items:center;gap:8px}
        .btn-ghost{background:transparent;color:var(--text-mid);border:2px solid var(--border)}
        .btn-ghost:hover{background:var(--bg-soft);transform:translateY(-2px)}
        .btn-primary{background:linear-gradient(135deg,var(--primary),var(--primary-dark));color:white;box-shadow:0 4px 15px rgba(124,58,237,0.35)}
        .btn-primary:hover{transform:translateY(-2px);box-shadow:0 8px 25px rgba(124,58,237,0.45)}
        .btn-success{background:linear-gradient(135deg,#10b981,#059669);color:white;box-shadow:0 4px 15px rgba(16,185,129,0.35)}
        .btn-success:hover{transform:translateY(-2px)}
        #uploadScreen{min-height:100vh;display:flex;flex-direction:column;position:relative;z-index:1}
        .upload-container{flex:1;display:flex;align-items:center;justify-content:center;padding:40px 20px}
        .upload-card{background:white;border-radius:24px;padding:50px;text-align:center;max-width:560px;width:100%;box-shadow:var(--shadow-lg);position:relative;overflow:hidden}
        .upload-card::before{content:'';position:absolute;top:0;left:0;right:0;height:5px;background:linear-gradient(90deg,var(--primary),var(--primary-light),var(--primary));background-size:200% 100%;animation:shimmer 3s ease-in-out infinite}
        @keyframes shimmer{0%,100%{background-position:0% 50%}50%{background-position:100% 50%}}
        .upload-emoji{font-size:64px;margin-bottom:20px;display:inline-block;animation:float 3s ease-in-out infinite}
        @keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}
        .upload-card h1{font-family:'Playfair Display',serif;font-size:32px;margin-bottom:12px}
        .upload-card>p{color:var(--text-light);font-size:16px;margin-bottom:30px}
        .upload-area{border:3px dashed var(--border);border-radius:16px;padding:45px 25px;cursor:pointer;margin-bottom:25px;transition:all 0.3s;background:var(--bg-warm)}
        .upload-area:hover{border-color:var(--primary);background:linear-gradient(135deg,rgba(124,58,237,0.05),rgba(167,139,250,0.05));transform:scale(1.01)}
        .upload-area-icon{width:60px;height:60px;background:linear-gradient(135deg,var(--primary-light),var(--primary));border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 16px;font-size:26px;box-shadow:0 8px 25px rgba(124,58,237,0.3)}
        .upload-area h3{font-size:17px;margin-bottom:6px}
        .upload-area p{font-size:14px;color:var(--text-light)}
        .features-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-top:30px;padding-top:25px;border-top:1px solid var(--border)}
        .feature-item{padding:14px 8px;background:var(--bg-soft);border-radius:var(--radius);transition:all 0.3s}
        .feature-item:hover{background:#f5f3ff;transform:translateY(-3px)}
        .feature-item span{display:block;font-size:22px;margin-bottom:4px}
        .feature-item p{font-size:11px;color:var(--text-mid);font-weight:500}
        .other-tools{margin-top:30px;padding-top:20px;border-top:1px solid var(--border)}
        .other-tools h4{font-size:11px;color:var(--text-light);text-transform:uppercase;letter-spacing:1px;margin-bottom:12px}
        .tools-links{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}
        .tool-link{padding:8px 16px;background:white;border:1px solid var(--border);border-radius:50px;text-decoration:none;color:var(--text-mid);font-size:12px;font-weight:500;transition:all 0.3s}
        .tool-link:hover{border-color:var(--primary);color:var(--primary);transform:translateY(-2px)}

        /* ===== SEO CONTENT SECTIONS ===== */
        .seo-content{position:relative;z-index:1;overflow:hidden}

        /* How It Works */
        .how-it-works{padding:70px 20px 60px;background:var(--bg-cream)}
        .section-container{max-width:1080px;margin:0 auto}
        .section-badge{display:inline-flex;align-items:center;gap:6px;padding:6px 16px;background:var(--bg-warm);border:1px solid rgba(124,58,237,0.15);border-radius:50px;font-size:12px;font-weight:600;color:var(--primary);margin-bottom:16px;letter-spacing:0.5px}
        .section-title{font-family:'Playfair Display',serif;font-size:34px;font-weight:700;color:var(--text-dark);margin-bottom:10px}
        .section-subtitle{font-size:16px;color:var(--text-light);max-width:600px;margin:0 auto 44px;line-height:1.7}
        .steps-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:28px;position:relative}

        .step-card{background:white;border-radius:20px;padding:32px 24px;text-align:center;box-shadow:var(--shadow);position:relative;z-index:1;border:1px solid var(--border);transition:all 0.35s ease}
        .step-card:hover{transform:translateY(-6px);box-shadow:var(--shadow-lg);border-color:var(--primary-light)}
        .step-number{width:48px;height:48px;background:linear-gradient(135deg,var(--primary),var(--primary-dark));border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:20px;font-weight:700;color:white;margin:0 auto 18px;box-shadow:0 6px 20px rgba(124,58,237,0.3)}
        .step-card h3{font-size:18px;font-weight:700;margin-bottom:8px;color:var(--text-dark)}
        .step-card p{font-size:14px;color:var(--text-mid);line-height:1.6}

        /* Why Choose Us */
        .why-choose{padding:70px 20px;background:var(--bg-warm)}
        .why-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:24px}
        .why-card{background:white;border-radius:20px;padding:32px 28px;border:1px solid var(--border);transition:all 0.35s ease;position:relative;overflow:hidden;text-align:center;}
        .why-card::after{content:'';position:absolute;bottom:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--primary),var(--primary-light));transform:scaleX(0);transition:transform 0.35s ease;transform-origin:left}
        .why-card:hover{transform:translateY(-6px);box-shadow:var(--shadow-lg)}
        .why-card:hover::after{transform:scaleX(1)}
        .why-icon{width:52px;height:52px;background:linear-gradient(135deg,rgba(124,58,237,0.1),rgba(124,58,237,0.05));border-radius:14px;display:flex;align-items:center;justify-content:center;color:var(--primary);transition:all 0.35s ease;margin:0 auto 18px;}
        .why-card:hover .why-icon{background:linear-gradient(135deg,var(--primary),var(--primary-dark));color:white;transform:scale(1.05)}
        .why-card h3{font-size:17px;font-weight:700;margin-bottom:8px;color:var(--text-dark)}
        .why-card p{font-size:14px;color:var(--text-mid);line-height:1.65}

        /* Features Detail */
        .features-detail{padding:70px 20px;background:var(--bg-cream)}
        .features-detail-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:20px}
        .fd-card{background:white;border-radius:16px;padding:28px 22px;text-align:center;border:1px solid var(--border);transition:all 0.3s ease}
        .fd-card:hover{transform:translateY(-5px);box-shadow:var(--shadow-lg);border-color:var(--primary-light)}
        .fd-icon{width:56px;height:56px;background:var(--bg-warm);border-radius:14px;display:flex;align-items:center;justify-content:center;margin:0 auto 14px;color:var(--primary);transition:all 0.3s}
        .fd-card:hover .fd-icon{background:linear-gradient(135deg,var(--primary),var(--primary-dark));color:white}
        .fd-card h3{font-size:15px;font-weight:700;margin-bottom:6px;color:var(--text-dark)}
        .fd-card p{font-size:13px;color:var(--text-mid);line-height:1.55}

        /* Use Cases Section */
        .use-cases{padding:70px 20px;background:var(--bg-cream)}
        .use-cases-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:24px;max-width:1080px;margin:0 auto}
        .use-case-card{background:white;border-radius:16px;padding:28px 24px;border:1px solid var(--border);transition:all 0.3s ease;text-align:left}
        .use-case-card:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg)}
        .use-case-card .uc-emoji{font-size:32px;margin-bottom:12px;display:block}
        .use-case-card h3{font-size:16px;font-weight:700;margin-bottom:8px;color:var(--text-dark)}
        .use-case-card p{font-size:14px;color:var(--text-mid);line-height:1.65}

        /* FAQ Section */
        .faq-section{padding:70px 20px 80px;background:var(--bg-warm)}
        .faq-list{max-width:780px;margin:0 auto}
        .faq-item{background:white;border-radius:16px;margin-bottom:14px;border:1px solid var(--border);overflow:hidden;transition:all 0.3s ease}
        .faq-item:hover{border-color:var(--primary-light)}
        .faq-item.open{border-color:var(--primary);box-shadow:0 4px 20px rgba(124,58,237,0.1)}
        .faq-question{width:100%;padding:20px 24px;background:none;border:none;cursor:pointer;display:flex;align-items:center;justify-content:space-between;gap:16px;font-family:inherit;font-size:15px;font-weight:600;color:var(--text-dark);text-align:left;transition:all 0.2s}
        .faq-question:hover{color:var(--primary)}
        .faq-item.open .faq-question{color:var(--primary)}
        .faq-chevron{width:28px;height:28px;border-radius:50%;background:var(--bg-soft);display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:all 0.3s}
        .faq-item.open .faq-chevron{background:var(--primary);color:white;transform:rotate(180deg)}
        .faq-answer{max-height:0;overflow:hidden;transition:max-height 0.35s ease,padding 0.35s ease}
        .faq-item.open .faq-answer{max-height:300px}
        .faq-answer-inner{padding:0 24px 20px;font-size:14px;color:var(--text-mid);line-height:1.7}

        /* Content / About Section */
        .content-section{padding:60px 20px 70px;background:var(--bg-cream)}
        .content-box{max-width:840px;margin:0 auto;background:white;border-radius:24px;padding:44px 48px;box-shadow:var(--shadow);border:1px solid var(--border)}
        .content-box h2{font-family:'Playfair Display',serif;font-size:26px;font-weight:700;color:var(--text-dark);margin-bottom:16px}
        .content-box h3{font-size:20px;font-weight:700;color:var(--text-dark);margin-top:24px;margin-bottom:10px}
        .content-box p{font-size:15px;color:var(--text-mid);line-height:1.75;margin-bottom:16px}
        .content-box p:last-child{margin-bottom:0}
        .content-box strong{color:var(--text-dark)}

        /* Footer */
        .seo-footer{padding:32px 20px;background:white;border-top:1px solid var(--border);text-align:center}
        .seo-footer p{font-size:13px;color:var(--text-light)}
        .seo-footer a{color:var(--primary);text-decoration:none;font-weight:600}
        .seo-footer a:hover{text-decoration:underline}

        @media(max-width:900px){
            .steps-grid,.why-grid,.use-cases-grid{grid-template-columns:1fr}
            .steps-grid::before{display:none}
            .features-detail-grid{grid-template-columns:repeat(2,1fr)}
        }
        @media(max-width:768px){
            .header{padding:12px 16px}.logo-text{font-size:20px}.logo-icon{width:38px;height:38px;font-size:18px}.btn{padding:10px 14px;font-size:13px}.btn .btn-text{display:none}.upload-card{padding:28px 22px}.upload-card h1{font-size:26px}.upload-emoji{font-size:52px}.features-grid{grid-template-columns:repeat(2,1fr)}.toolbar{padding:8px 10px;gap:4px}.tool-btn{padding:8px 10px;font-size:12px}.tool-btn .tool-text{display:none}.divider{display:none}.sidebar{width:65px;padding:6px}.right-panel{display:none}.canvas-area{padding:12px}.bottom-bar{display:none}
            .section-title{font-size:26px}
            .section-subtitle{font-size:14px}
            .content-box{padding:28px 22px}
            .content-box h2{font-size:22px}
        }
        @media(max-width:480px){
            .upload-card{padding:22px 16px;border-radius:16px}.upload-card h1{font-size:22px}.upload-area{padding:30px 15px}.features-grid{gap:8px}.feature-item{padding:10px 6px}.feature-item span{font-size:18px}.feature-item p{font-size:10px}.toolbar{gap:3px}.tool-btn{padding:7px 8px}.nav-btn{width:30px;height:30px}.sidebar{width:50px}.thumb-num{font-size:9px;padding:3px}
            .features-detail-grid{grid-template-columns:1fr}
            .how-it-works,.why-choose,.features-detail,.faq-section,.content-section,.use-cases{padding:50px 16px}
        }

        /* ===== EDITOR STYLES (unchanged) ===== */
        #editorScreen{display:none;height:100vh;flex-direction:column;position:relative;z-index:1}
        .toolbar{background:white;padding:10px 16px;display:flex;align-items:center;gap:6px;border-bottom:1px solid var(--border);flex-wrap:wrap;box-shadow:var(--shadow)}
        .tool-btn{padding:9px 14px;border:2px solid transparent;border-radius:8px;background:var(--bg-soft);cursor:pointer;font-size:13px;font-weight:500;display:flex;align-items:center;gap:5px;font-family:inherit;color:var(--text-mid);transition:all 0.2s;white-space:nowrap}
        .tool-btn:hover{background:var(--bg-warm);border-color:var(--border)}
        .tool-btn.active{background:linear-gradient(135deg,rgba(124,58,237,0.1),rgba(124,58,237,0.15));border-color:var(--primary);color:var(--primary)}
        .tool-btn.danger{color:#e53e3e}
        .tool-btn.danger:hover{background:#fff5f5}
        .divider{width:1px;height:30px;background:var(--border);margin:0 6px}
        .color-wrap{position:relative}
        .color-btn{width:34px;height:34px;border-radius:8px;border:3px solid var(--border);cursor:pointer;transition:all 0.2s}
        .color-btn:hover{transform:scale(1.1)}
        .color-menu{position:absolute;top:calc(100% + 8px);left:0;background:white;border:1px solid var(--border);border-radius:var(--radius);padding:12px;display:none;box-shadow:var(--shadow-lg);z-index:100}
        .color-menu.show{display:block;animation:fadeIn 0.2s}
        @keyframes fadeIn{from{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}
        .color-grid{display:grid;grid-template-columns:repeat(6,26px);gap:5px}
        .color-swatch{width:26px;height:26px;border-radius:6px;cursor:pointer;transition:all 0.2s;border:2px solid transparent}
        .color-swatch:hover{transform:scale(1.15)}
        .toolbar select{padding:9px 12px;border:2px solid var(--border);border-radius:8px;font-family:inherit;font-size:13px;background:var(--bg-soft);cursor:pointer}
        .toolbar select:focus{outline:none;border-color:var(--primary)}
        .page-nav{display:flex;align-items:center;gap:6px;margin-left:auto}
        .nav-btn{width:34px;height:34px;border:2px solid var(--border);border-radius:8px;background:white;cursor:pointer;font-size:14px;color:var(--text-mid);transition:all 0.2s;display:flex;align-items:center;justify-content:center}
        .nav-btn:hover:not(:disabled){border-color:var(--primary);color:var(--primary)}
        .nav-btn:disabled{opacity:0.4;cursor:not-allowed}
        .page-info,.zoom-info{min-width:50px;text-align:center;font-size:12px;font-weight:600;color:var(--text-mid);background:var(--bg-soft);padding:7px 10px;border-radius:8px}
        .editor-main{display:flex;flex:1;overflow:hidden}
        .sidebar{width:120px;background:var(--bg-soft);border-right:1px solid var(--border);padding:10px;overflow-y:auto}
        .thumb{background:white;border:3px solid var(--border);border-radius:8px;margin-bottom:8px;cursor:pointer;overflow:hidden;transition:all 0.2s}
        .thumb:hover{border-color:var(--primary-light)}
        .thumb.active{border-color:var(--primary);box-shadow:0 4px 15px rgba(124,58,237,0.25)}
        .thumb img{width:100%;display:block}
        .thumb-num{text-align:center;padding:5px;font-size:10px;font-weight:600;color:var(--text-mid);background:var(--bg-soft)}
        .canvas-area{flex:1;background:linear-gradient(135deg,#5a6478,#4a5568);overflow:auto;display:flex;justify-content:center;align-items:flex-start;padding:20px}
        .canvas-wrap{position:relative;background:white;box-shadow:var(--shadow-lg);border-radius:4px}
        #pdfCanvas{display:block}
        #editCanvas{position:absolute;top:0;left:0}
        .selection-rect{position:absolute;border:2px dashed var(--primary);background:rgba(124,58,237,0.1);pointer-events:none;display:none;border-radius:4px}
        .text-overlay{position:absolute;display:none;z-index:20}
        .text-overlay.show{display:block}
        .text-overlay textarea{border:2px solid var(--primary);padding:6px 8px;font-family:inherit;outline:none;resize:none;background:rgba(255,255,255,0.98);border-radius:8px;box-shadow:var(--shadow)}
        .link-popup{position:fixed;display:none;z-index:1000;background:white;border-radius:20px;box-shadow:var(--shadow-lg);padding:28px;width:380px;max-width:90vw;border:2px solid var(--primary);top:50%;left:50%;transform:translate(-50%,-50%)}
        .link-popup.show{display:block;animation:popIn 0.3s}
        @keyframes popIn{from{opacity:0;transform:translate(-50%,-50%) scale(0.9)}to{opacity:1;transform:translate(-50%,-50%) scale(1)}}
        .link-popup h4{font-size:18px;margin-bottom:8px;display:flex;align-items:center;gap:8px}
        .link-popup>p{font-size:13px;color:var(--text-light);margin-bottom:16px}
        .link-popup input{width:100%;padding:14px;border:2px solid var(--border);border-radius:8px;font-size:14px;font-family:inherit;margin-bottom:18px}
        .link-popup input:focus{border-color:var(--primary);outline:none}
        .link-popup-btns{display:flex;gap:10px;justify-content:flex-end}
        .right-panel{width:200px;background:white;border-left:1px solid var(--border);padding:16px;overflow-y:auto}
        .panel-title{font-size:10px;color:var(--text-light);text-transform:uppercase;letter-spacing:1.5px;margin-bottom:12px;font-weight:700}
        .element-item{padding:10px 12px;background:var(--bg-soft);border-radius:8px;margin-bottom:6px;display:flex;justify-content:space-between;align-items:center;font-size:12px;cursor:pointer;transition:all 0.2s;border:2px solid transparent}
        .element-item:hover{background:var(--bg-warm)}
        .element-item.selected{background:rgba(124,58,237,0.1);border-color:var(--primary)}
        .del-btn{width:22px;height:22px;border:none;background:#fee2e2;color:#dc2626;border-radius:6px;cursor:pointer;font-size:13px;font-weight:700;display:flex;align-items:center;justify-content:center;transition:all 0.2s}
        .del-btn:hover{background:#dc2626;color:white}
        .help-box{margin-top:20px;padding:14px;background:linear-gradient(135deg,rgba(124,58,237,0.08),rgba(167,139,250,0.05));border-radius:var(--radius);font-size:11px;color:var(--text-mid);line-height:1.7;border:1px solid var(--border)}
        .help-box strong{color:var(--primary)}
        .help-box ul{list-style:none;margin-top:8px}
        .help-box li{padding:3px 0 3px 14px;position:relative}
        .help-box li::before{content:'‚Üí';position:absolute;left:0;color:var(--primary)}
        .bottom-bar{background:white;padding:10px 20px;border-top:1px solid var(--border);display:flex;gap:16px;align-items:center;font-size:12px}
        .bottom-bar span{color:var(--text-light)}
        .bottom-bar a{color:var(--primary);text-decoration:none;font-weight:500}
        .bottom-bar a:hover{color:var(--primary-dark)}
        .modal-bg{position:fixed;inset:0;background:rgba(26,26,46,0.6);backdrop-filter:blur(4px);display:none;align-items:center;justify-content:center;z-index:1000}
        .modal-bg.show{display:flex}
        .modal{background:white;border-radius:20px;padding:28px;width:90%;max-width:400px;box-shadow:var(--shadow-lg);animation:popIn 0.3s}
        .modal h3{font-size:20px;margin-bottom:18px;display:flex;align-items:center;gap:10px}
        .modal-btns{display:flex;gap:10px;justify-content:flex-end;margin-top:18px}
        .sig-canvas{width:100%;height:150px;border:2px solid var(--border);border-radius:var(--radius);cursor:crosshair;background:#fefefe}
        .loading{position:fixed;inset:0;background:rgba(254,252,248,0.95);display:none;align-items:center;justify-content:center;flex-direction:column;z-index:2000}
        .loading.show{display:flex}
        .spinner{width:50px;height:50px;border:4px solid var(--border);border-top-color:var(--primary);border-radius:50%;animation:spin 0.8s linear infinite}
        @keyframes spin{to{transform:rotate(360deg)}}
        .loading p{margin-top:16px;color:var(--text-mid);font-weight:500}
        .toast{position:fixed;bottom:80px;left:50%;transform:translateX(-50%) translateY(20px);background:#2d3a4f;color:white;padding:14px 26px;border-radius:50px;font-size:13px;font-weight:500;display:none;z-index:500;box-shadow:var(--shadow)}
        .toast.show{display:block;animation:toastIn 0.3s forwards}
        @keyframes toastIn{from{transform:translateX(-50%) translateY(20px);opacity:0}to{transform:translateX(-50%) translateY(0);opacity:1}}
        *:focus-visible{outline:3px solid var(--primary);outline-offset:2px}
        ::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:var(--bg-soft)}::-webkit-scrollbar-thumb{background:var(--border);border-radius:4px}::-webkit-scrollbar-thumb:hover{background:var(--text-light)}
    </style>
</head>
<body>
    <div class="bg-pattern"></div>
    <div class="loading" id="loading"><div class="spinner"></div><p id="loadingText">Loading...</p></div>
    <div class="toast" id="toast"></div>

    <!-- ===== UPLOAD SCREEN ===== -->
    <main id="uploadScreen">
        <header class="header"><a href="/" class="logo"><div class="logo-icon"><i data-lucide="file-pen" style="width:24px;height:24px;color:white"></i></div><div class="logo-text">PDF <span>Editor</span></div></a></header>
        <div class="upload-container">
            <article class="upload-card">
                <div class="upload-emoji"><i data-lucide="file-text" style="width:72px;height:72px;color:var(--primary)"></i></div>
                <h1>Free Online PDF Editor</h1>
                <p>Add text, clickable links, images, shapes & digital signatures to any PDF ‚Äî 100% free, no signup needed</p>
                <div class="upload-area" id="uploadArea" tabindex="0" role="button" aria-label="Upload PDF file by clicking or drag and drop">
                    <input type="file" id="fileInput" accept=".pdf" style="display:none" aria-label="Select PDF file to edit">
                    <div class="upload-area-icon"><i data-lucide="upload" style="width:28px;height:28px;color:white"></i></div>
                    <h3>Drop your PDF here</h3>
                    <p>or click to browse files ‚Ä¢ PDF files up to 100MB</p>
                </div>
                <button class="btn btn-primary" onclick="document.getElementById('fileInput').click()" aria-label="Select PDF file from your device"><i data-lucide="folder-open" style="width:18px;height:18px"></i> Select PDF File</button>
                <div class="features-grid">
                    <div class="feature-item"><span><i data-lucide="type" style="width:22px;height:22px;color:var(--primary)"></i></span><p>Add Text</p></div>
                    <div class="feature-item"><span><i data-lucide="image" style="width:22px;height:22px;color:var(--primary)"></i></span><p>Insert Images</p></div>
                    <div class="feature-item"><span><i data-lucide="pen-line" style="width:22px;height:22px;color:var(--primary)"></i></span><p>E-Signatures</p></div>
                    <div class="feature-item"><span><i data-lucide="link" style="width:22px;height:22px;color:var(--primary)"></i></span><p>Hyperlinks</p></div>
                </div>
            </article>
        </div>

        <!-- ===== SEO CONTENT SECTIONS ===== -->
        <div class="seo-content">

            <!-- How It Works -->
            <section class="how-it-works" id="how-it-works">
                <div class="section-container" style="text-align:center">
                    <div class="section-badge"><i data-lucide="zap" style="width:14px;height:14px"></i> Quick & Easy</div>
                    <h2 class="section-title">How to Edit a PDF File Online for Free</h2>
                    <p class="section-subtitle">Modify any PDF document in three simple steps ‚Äî no software to install, no account to create, no fees to pay. Everything runs directly in your web browser.</p>
                    <div class="steps-grid">
                        <div class="step-card">
                            <div class="step-number">1</div>
                            <h3>Upload Your PDF File</h3>
                            <p>Click the upload button or drag and drop your PDF into the editor. Your file is processed entirely in your browser ‚Äî it never gets uploaded to any external server, ensuring complete privacy.</p>
                        </div>
                        <div class="step-card">
                            <div class="step-number">2</div>
                            <h3>Edit, Annotate & Sign</h3>
                            <p>Use the intuitive toolbar to add text with custom fonts, insert images, draw shapes like rectangles and circles, place clickable hyperlinks, highlight key sections, or add your digital signature to any page.</p>
                        </div>
                        <div class="step-card">
                            <div class="step-number">3</div>
                            <h3>Download Your Edited PDF</h3>
                            <p>Hit the Download button to save your modified PDF instantly. All your edits ‚Äî text, images, shapes, links, and signatures ‚Äî are embedded in a standard PDF file. Your original document stays untouched.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Why Choose Us -->
            <section class="why-choose" id="why-choose-us">
                <div class="section-container" style="text-align:center">
                    <div class="section-badge"><i data-lucide="award" style="width:14px;height:14px"></i> Trusted by Thousands</div>
                    <h2 class="section-title">Why EasyWebTools Is the Best Free PDF Editor Online</h2>
                    <p class="section-subtitle">A feature-rich, privacy-first PDF editing tool that works entirely in your browser. No compromises on quality, security, or features.</p>
                    <div class="why-grid">
                        <div class="why-card">
                            <div class="why-icon"><i data-lucide="badge-check" style="width:26px;height:26px"></i></div>
                            <h3>Completely Free ‚Äî No Watermarks Ever</h3>
                            <p>Every single feature is available at zero cost. Your edited PDFs are clean and professional ‚Äî no watermarks, no branding stamps, no "upgrade to remove" paywalls. What you see is what you get.</p>
                        </div>
                        <div class="why-card">
                            <div class="why-icon"><i data-lucide="shield-check" style="width:26px;height:26px"></i></div>
                            <h3>Your Files Stay Private & Secure</h3>
                            <p>Unlike most online PDF editors, your files are never uploaded to any server. All processing happens locally in your browser using client-side JavaScript. Your sensitive documents remain 100% on your device at all times.</p>
                        </div>
                        <div class="why-card">
                            <div class="why-icon"><i data-lucide="user-x" style="width:26px;height:26px"></i></div>
                            <h3>No Account or Signup Needed</h3>
                            <p>Jump straight into editing without creating accounts, verifying emails, or going through login screens. Just open the page, upload your PDF, and begin making changes immediately ‚Äî it takes under 5 seconds to start.</p>
                        </div>
                        <div class="why-card">
                            <div class="why-icon"><i data-lucide="smartphone" style="width:26px;height:26px"></i></div>
                            <h3>Edit PDFs on Any Device</h3>
                            <p>Our responsive editor adapts seamlessly to desktops, laptops, tablets, and smartphones. Edit PDFs on the go from any modern browser ‚Äî Chrome, Firefox, Safari, Edge, or Samsung Internet. No app download required.</p>
                        </div>
                        <div class="why-card">
                            <div class="why-icon"><i data-lucide="gauge" style="width:26px;height:26px"></i></div>
                            <h3>Blazing Fast Performance</h3>
                            <p>Since everything runs locally in your browser, there's no waiting for server uploads or processing queues. Your PDF loads instantly, edits apply in real-time, and downloads complete in seconds ‚Äî even for large multi-page files.</p>
                        </div>
                        <div class="why-card">
                            <div class="why-icon"><i data-lucide="layers" style="width:26px;height:26px"></i></div>
                            <h3>All-in-One PDF Editing Toolkit</h3>
                            <p>Add text, insert images, draw digital signatures, place clickable hyperlinks, add rectangles, circles, and lines, use freehand drawing, highlight content ‚Äî all from one clean, intuitive toolbar. No need for multiple tools.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- All Features Detail -->
            <section class="features-detail" id="features">
                <div class="section-container" style="text-align:center">
                    <div class="section-badge"><i data-lucide="sparkles" style="width:14px;height:14px"></i> Full Feature Set</div>
                    <h2 class="section-title">Powerful PDF Editing Tools ‚Äî All Free</h2>
                    <p class="section-subtitle">Everything you need to edit, annotate, and sign PDF documents ‚Äî right in your browser, without downloading any software.</p>
                    <div class="features-detail-grid">
                        <div class="fd-card">
                            <div class="fd-icon"><i data-lucide="type" style="width:26px;height:26px"></i></div>
                            <h3>Add Text to Any PDF Page</h3>
                            <p>Place custom text anywhere on your document. Choose your preferred font size (12px to 32px) and pick from 12 different colors for perfect readability.</p>
                        </div>
                        <div class="fd-card">
                            <div class="fd-icon"><i data-lucide="image" style="width:26px;height:26px"></i></div>
                            <h3>Insert Photos, Logos & Stamps</h3>
                            <p>Upload and place images in PNG, JPG, GIF, or WebP format. Resize and reposition images precisely using drag handles. Ideal for adding logos, stamps, or photos.</p>
                        </div>
                        <div class="fd-card">
                            <div class="fd-icon"><i data-lucide="pen-line" style="width:26px;height:26px"></i></div>
                            <h3>Sign PDFs with Digital Signature</h3>
                            <p>Draw your handwritten signature using a mouse, trackpad, or finger on touch devices. Place and resize your signature on any page ‚Äî perfect for contracts, forms, and official documents.</p>
                        </div>
                        <div class="fd-card">
                            <div class="fd-icon"><i data-lucide="link" style="width:26px;height:26px"></i></div>
                            <h3>Add Clickable Hyperlinks to PDF</h3>
                            <p>Insert fully functional hyperlinks that work when the PDF is opened in any viewer ‚Äî Adobe Acrobat, Chrome, Preview, Firefox, and more. Great for references, portfolios, and resources.</p>
                        </div>
                        <div class="fd-card">
                            <div class="fd-icon"><i data-lucide="square" style="width:26px;height:26px"></i></div>
                            <h3>Draw Shapes & Annotations</h3>
                            <p>Add rectangles, circles, and straight lines to annotate, highlight areas, create visual callouts, or mark sections for review. Customize color and stroke width.</p>
                        </div>
                        <div class="fd-card">
                            <div class="fd-icon"><i data-lucide="pencil" style="width:26px;height:26px"></i></div>
                            <h3>Freehand Drawing & Markup</h3>
                            <p>Use the pen tool to sketch, annotate, or make freehand markups directly on your PDF. Ideal for handwritten notes, corrections, arrows, and quick sketches.</p>
                        </div>
                        <div class="fd-card">
                            <div class="fd-icon"><i data-lucide="highlighter" style="width:26px;height:26px"></i></div>
                            <h3>Highlight Important Sections</h3>
                            <p>Mark key passages and sections with a semi-transparent yellow highlighter. Draw attention to important text, clauses, figures, or paragraphs with a natural highlight stroke.</p>
                        </div>
                        <div class="fd-card">
                            <div class="fd-icon"><i data-lucide="undo-2" style="width:26px;height:26px"></i></div>
                            <h3>Undo Mistakes Easily</h3>
                            <p>Made an error? Press Ctrl+Z (or Cmd+Z on Mac) or click the Undo button to reverse your last change. The editor stores up to 30 undo steps so you can edit worry-free.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Who Is This For ‚Äî Use Cases -->
            <section class="use-cases" id="use-cases">
                <div class="section-container" style="text-align:center">
                    <div class="section-badge"><i data-lucide="users" style="width:14px;height:14px"></i> Built for Everyone</div>
                    <h2 class="section-title">Who Can Use This Free PDF Editor?</h2>
                    <p class="section-subtitle">Whether you're a student, professional, teacher, freelancer, or business owner ‚Äî EasyWebTools PDF Editor is designed for you.</p>
                </div>
                <div class="use-cases-grid">
                    <div class="use-case-card">
                        <span class="uc-emoji">üéì</span>
                        <h3>Students & Researchers</h3>
                        <p>Annotate lecture notes, highlight key passages in research papers, add comments to study materials, and sign academic forms ‚Äî all without installing expensive software on your computer.</p>
                    </div>
                    <div class="use-case-card">
                        <span class="uc-emoji">üíº</span>
                        <h3>Business Professionals</h3>
                        <p>Sign contracts and agreements digitally, add clickable links to reports and proposals, insert company logos on documents, and annotate presentations before sharing with clients or colleagues.</p>
                    </div>
                    <div class="use-case-card">
                        <span class="uc-emoji">üë©‚Äçüè´</span>
                        <h3>Teachers & Educators</h3>
                        <p>Mark student assignments with comments and corrections, highlight important sections in worksheets, add instructional annotations, and sign report cards or certificates digitally.</p>
                    </div>
                    <div class="use-case-card">
                        <span class="uc-emoji">üè†</span>
                        <h3>Real Estate & Legal</h3>
                        <p>Sign lease agreements, add initials to legal documents, highlight clauses that need attention, insert clickable links to property listings, and annotate contracts during negotiations.</p>
                    </div>
                    <div class="use-case-card">
                        <span class="uc-emoji">üé®</span>
                        <h3>Designers & Freelancers</h3>
                        <p>Add feedback annotations to design PDFs, insert watermark images on proofs, sign freelance contracts, and add portfolio links to resumes or case studies before sending them out.</p>
                    </div>
                    <div class="use-case-card">
                        <span class="uc-emoji">üåç</span>
                        <h3>Anyone, Anywhere</h3>
                        <p>Fill out government forms, sign consent documents, annotate travel itineraries, add notes to recipes, or quickly modify any PDF you receive ‚Äî all from your phone, tablet, or computer browser.</p>
                    </div>
                </div>
            </section>

            <!-- FAQ Section -->
            <section class="faq-section" id="faq">
                <div class="section-container" style="text-align:center">
                    <div class="section-badge"><i data-lucide="help-circle" style="width:14px;height:14px"></i> Common Questions</div>
                    <h2 class="section-title">Frequently Asked Questions About Our PDF Editor</h2>
                    <p class="section-subtitle">Everything you need to know about using EasyWebTools free online PDF editor. Can't find your answer? Feel free to reach out.</p>
                </div>
                <div class="faq-list">
                    <div class="faq-item open">
                        <button class="faq-question" onclick="toggleFaq(this)" aria-expanded="true">
                            <span>Is EasyWebTools PDF Editor really 100% free?</span>
                            <span class="faq-chevron"><i data-lucide="chevron-down" style="width:16px;height:16px"></i></span>
                        </button>
                        <div class="faq-answer">
                            <div class="faq-answer-inner">Yes, completely. Every feature in EasyWebTools PDF Editor ‚Äî including text, images, shapes, links, highlights, freehand drawing, and digital signatures ‚Äî is available at no cost. There are no premium tiers, no trial periods, no watermarks added to your PDF, and no hidden charges. You get the full editing experience for free, every time you use it.</div>
                        </div>
                    </div>
                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFaq(this)" aria-expanded="false">
                            <span>What PDF editing features are available in this tool?</span>
                            <span class="faq-chevron"><i data-lucide="chevron-down" style="width:16px;height:16px"></i></span>
                        </button>
                        <div class="faq-answer">
                            <div class="faq-answer-inner">You get a comprehensive set of editing tools: add custom text with adjustable font sizes (12px‚Äì32px) and 12 color options, insert images in PNG/JPG/GIF/WebP formats, draw shapes (rectangles, circles, straight lines), place fully clickable hyperlinks, highlight important sections with a yellow marker, use freehand drawing for annotations, and draw and place digital signatures. All elements can be selected, moved, resized, and deleted.</div>
                        </div>
                    </div>
                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFaq(this)" aria-expanded="false">
                            <span>Are my PDF files safe? Is my data private?</span>
                            <span class="faq-chevron"><i data-lucide="chevron-down" style="width:16px;height:16px"></i></span>
                        </button>
                        <div class="faq-answer">
                            <div class="faq-answer-inner">Your privacy is our top priority. EasyWebTools PDF Editor processes your files 100% locally in your web browser using client-side JavaScript technology. Your PDF is never uploaded to, stored on, or transmitted to any external server. All editing, rendering, and downloading happens right on your own device. This makes it one of the most secure and privacy-respecting PDF editors available on the internet.</div>
                        </div>
                    </div>
                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFaq(this)" aria-expanded="false">
                            <span>Do I need to create an account or log in?</span>
                            <span class="faq-chevron"><i data-lucide="chevron-down" style="width:16px;height:16px"></i></span>
                        </button>
                        <div class="faq-answer">
                            <div class="faq-answer-inner">Not at all. There is no signup, registration, email verification, or login required. Simply visit this page, upload your PDF file, and start editing right away. You can use the editor unlimited times without ever needing an account. We believe good tools should be accessible to everyone without barriers.</div>
                        </div>
                    </div>
                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFaq(this)" aria-expanded="false">
                            <span>How do I add my digital signature to a PDF?</span>
                            <span class="faq-chevron"><i data-lucide="chevron-down" style="width:16px;height:16px"></i></span>
                        </button>
                        <div class="faq-answer">
                            <div class="faq-answer-inner">Click the "Sign" button in the editor toolbar. A signature pad will open where you can draw your signature using a mouse, trackpad, or your finger on touchscreen devices. Once you're happy with your signature, click "Add Signature" and it will be placed on the current page. You can then drag it to the exact position and resize it as needed. The signature is permanently embedded into the PDF when you download it.</div>
                        </div>
                    </div>
                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFaq(this)" aria-expanded="false">
                            <span>Can I insert clickable hyperlinks into my PDF document?</span>
                            <span class="faq-chevron"><i data-lucide="chevron-down" style="width:16px;height:16px"></i></span>
                        </button>
                        <div class="faq-answer">
                            <div class="faq-answer-inner">Yes! Select the "Link" tool from the toolbar, then draw a rectangle over the area where you want the clickable link. Enter the destination URL in the popup and click "Add Link." The hyperlink will be fully functional when the PDF is opened in any standard PDF viewer ‚Äî including Adobe Acrobat Reader, Google Chrome's built-in PDF viewer, Apple Preview, Microsoft Edge, and Firefox.</div>
                        </div>
                    </div>
                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFaq(this)" aria-expanded="false">
                            <span>Does this PDF editor work on phones, tablets, and mobile devices?</span>
                            <span class="faq-chevron"><i data-lucide="chevron-down" style="width:16px;height:16px"></i></span>
                        </button>
                        <div class="faq-answer">
                            <div class="faq-answer-inner">Absolutely. EasyWebTools PDF Editor is built with a fully responsive design that adapts to any screen size. It works flawlessly on iPhones, Android phones, iPads, Android tablets, Chromebooks, laptops, and desktop computers. Touch gestures are fully supported for drawing signatures, freehand annotations, and navigating pages. No app installation is needed ‚Äî just open it in your mobile browser.</div>
                        </div>
                    </div>
                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFaq(this)" aria-expanded="false">
                            <span>Can I edit PDFs that have multiple pages?</span>
                            <span class="faq-chevron"><i data-lucide="chevron-down" style="width:16px;height:16px"></i></span>
                        </button>
                        <div class="faq-answer">
                            <div class="faq-answer-inner">Yes, full multi-page PDF editing is supported. When you upload a multi-page PDF, all pages appear as thumbnails in the left sidebar. Click any thumbnail or use the navigation arrows to switch between pages. Edits on each page are saved independently. When you download the final PDF, all your changes across every page are included in the output file.</div>
                        </div>
                    </div>
                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFaq(this)" aria-expanded="false">
                            <span>What file types can I upload and insert?</span>
                            <span class="faq-chevron"><i data-lucide="chevron-down" style="width:16px;height:16px"></i></span>
                        </button>
                        <div class="faq-answer">
                            <div class="faq-answer-inner">The editor accepts PDF files (.pdf) as your main document. You can insert images in PNG, JPG/JPEG, GIF, and WebP formats into your PDF. The final edited output is always a standard PDF file (.pdf) that is universally compatible with all PDF viewers and readers across every platform and operating system.</div>
                        </div>
                    </div>
                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFaq(this)" aria-expanded="false">
                            <span>How many times can I undo my changes?</span>
                            <span class="faq-chevron"><i data-lucide="chevron-down" style="width:16px;height:16px"></i></span>
                        </button>
                        <div class="faq-answer">
                            <div class="faq-answer-inner">You can undo up to 30 recent changes by clicking the Undo button in the toolbar or pressing Ctrl+Z (Cmd+Z on Mac). This generous undo history means you can experiment freely with different edits, try out various placements, and easily revert any changes you're not happy with ‚Äî without any risk to your work.</div>
                        </div>
                    </div>
                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFaq(this)" aria-expanded="false">
                            <span>Will my edited PDF have a watermark?</span>
                            <span class="faq-chevron"><i data-lucide="chevron-down" style="width:16px;height:16px"></i></span>
                        </button>
                        <div class="faq-answer">
                            <div class="faq-answer-inner">No, never. Unlike many competing online PDF editors that add watermarks or branding to force you into paid plans, EasyWebTools produces clean, watermark-free PDFs every single time. Your downloaded PDF looks exactly as you edited it ‚Äî professional, clean, and ready to share or print.</div>
                        </div>
                    </div>
                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFaq(this)" aria-expanded="false">
                            <span>How do I download my edited PDF file?</span>
                            <span class="faq-chevron"><i data-lucide="chevron-down" style="width:16px;height:16px"></i></span>
                        </button>
                        <div class="faq-answer">
                            <div class="faq-answer-inner">After you've finished editing, simply click the green "Download" button in the top-right corner of the editor. Your browser will immediately download the edited PDF with all your changes ‚Äî text, images, shapes, hyperlinks, and signatures ‚Äî permanently embedded. The original PDF you uploaded remains completely unchanged on your device.</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Content / About Section ‚Äî Expanded for SEO -->
            <section class="content-section" id="about">
                <div class="content-box">
                    <h2>Free Online PDF Editor ‚Äî Edit, Annotate, Sign & Add Links to PDFs Instantly</h2>
                    <p><strong>EasyWebTools PDF Editor</strong> is a powerful, completely free online tool that lets you <strong>edit PDF files</strong> directly in your web browser ‚Äî no software installation, no account creation, and no hidden fees. Whether you need to <strong>add text to a PDF</strong>, insert an image, draw a shape, place a <strong>clickable hyperlink</strong>, highlight an important paragraph, or add your <strong>digital signature</strong>, our editor provides every tool you need in one clean, intuitive interface.</p>

                    <h3>Why Choose a Browser-Based PDF Editor?</h3>
                    <p>Traditional PDF editing software like Adobe Acrobat Pro costs hundreds of dollars per year and requires installation on your computer. Many free alternatives add ugly watermarks to your edited PDFs or limit features behind paywalls. EasyWebTools PDF Editor eliminates all of these problems. It runs entirely in your browser, works on any device, costs nothing, and produces clean, professional PDFs without any watermarks or branding.</p>

                    <h3>Complete Privacy ‚Äî Your Files Never Leave Your Device</h3>
                    <p>Privacy is at the core of our <strong>PDF editor</strong>. Unlike most online PDF tools that upload your files to remote servers for processing, EasyWebTools processes everything locally using client-side JavaScript technology. <strong>Your PDF is never uploaded, stored, or transmitted to any server.</strong> All rendering, editing, and PDF generation happens right on your own device. This makes our tool ideal for editing sensitive documents like contracts, financial statements, medical records, legal agreements, and personal identification documents.</p>

                    <h3>Rich Editing Features at Your Fingertips</h3>
                    <p>Our editor offers a comprehensive set of PDF editing tools: <strong>add custom text</strong> with adjustable font sizes and colors, <strong>insert images</strong> in PNG, JPG, GIF, and WebP formats, <strong>draw shapes</strong> including rectangles, circles, and straight lines, place <strong>fully clickable hyperlinks</strong> that work in any PDF reader, use the <strong>freehand drawing tool</strong> for annotations and markups, <strong>highlight</strong> important sections with a yellow marker, and <strong>sign PDFs digitally</strong> by drawing your signature with a mouse or touchscreen. Every element you add can be selected, moved, resized, and deleted with ease.</p>

                    <h3>Works Everywhere ‚Äî Desktop, Tablet & Mobile</h3>
                    <p>EasyWebTools PDF Editor is designed to work seamlessly across all platforms and screen sizes. Whether you're on a Windows PC, MacBook, Chromebook, iPad, Android tablet, iPhone, or Android smartphone ‚Äî the editor adapts to your screen and supports both mouse and touch interactions. <strong>No app download is required</strong> ‚Äî just open your browser, visit this page, and start editing. Compatible with Chrome, Firefox, Safari, Edge, Opera, Samsung Internet, and all other modern browsers.</p>

                    <h3>Perfect for Students, Professionals & Everyone In Between</h3>
                    <p>Whether you're a student annotating lecture notes, a professional signing contracts, a teacher marking assignments, a freelancer adding portfolio links to a resume, a real estate agent signing lease agreements, or simply someone who needs to quickly <strong>modify a PDF</strong> ‚Äî EasyWebTools has you covered. Our editor supports <strong>multi-page PDFs</strong>, provides zoom controls for precision editing, offers up to 30 undo steps, and delivers a smooth, fast experience even with large documents.</p>

                    <p>Ready to get started? Simply upload your PDF file above, use the toolbar to make your edits, and download your finished document with a single click. It's fast, free, private, and incredibly easy to use. No strings attached ‚Äî ever.</p>
                </div>
            </section>

            <!-- Footer -->
            <footer class="seo-footer">
                <p>&copy; 2026 <a href="https://easywebtools.in">EasyWebTools.in</a> ‚Äî Free Online PDF Editor | Edit, Annotate & Sign PDFs for Free. All rights reserved.  <br/> Easywebtools.com - a Part of Cardekhen Pvt Ltd </p>
            </footer>
        </div>
    </main>

    <!-- ===== EDITOR SCREEN (unchanged) ===== -->
    <div id="editorScreen">
        <header class="header">
            <a href="/" class="logo"><div class="logo-icon"><i data-lucide="file-pen" style="width:24px;height:24px;color:white"></i></div><div class="logo-text">PDF <span>Editor</span></div></a>
            <div style="display:flex;gap:10px">
                <button class="btn btn-ghost" onclick="location.reload()"><i data-lucide="folder-plus" style="width:18px;height:18px"></i> <span class="btn-text">New</span></button>
                <button class="btn btn-success" onclick="downloadPDF()"><i data-lucide="download" style="width:18px;height:18px"></i> <span class="btn-text">Download</span></button>
            </div>
        </header>
        <nav class="toolbar">
            <button class="tool-btn" id="btnSelect" onclick="setTool('select')"><i data-lucide="mouse-pointer-2" style="width:16px;height:16px"></i> <span class="tool-text">Select</span></button>
            <button class="tool-btn active" id="btnText" onclick="setTool('text')"><i data-lucide="type" style="width:16px;height:16px"></i> <span class="tool-text">Text</span></button>
            <button class="tool-btn" id="btnLink" onclick="setTool('link')"><i data-lucide="link" style="width:16px;height:16px"></i> <span class="tool-text">Link</span></button>
            <div class="divider"></div>
            <button class="tool-btn" id="btnDraw" onclick="setTool('draw')"><i data-lucide="pencil" style="width:16px;height:16px"></i> <span class="tool-text">Draw</span></button>
            <button class="tool-btn" id="btnHighlight" onclick="setTool('highlight')"><i data-lucide="highlighter" style="width:16px;height:16px"></i> <span class="tool-text">Highlight</span></button>
            <div class="divider"></div>
            <button class="tool-btn" id="btnRect" onclick="setTool('rect')"><i data-lucide="square" style="width:16px;height:16px"></i> <span class="tool-text">Rect</span></button>
            <button class="tool-btn" id="btnCircle" onclick="setTool('circle')"><i data-lucide="circle" style="width:16px;height:16px"></i> <span class="tool-text">Circle</span></button>
            <button class="tool-btn" id="btnLine" onclick="setTool('line')"><i data-lucide="minus" style="width:16px;height:16px"></i> <span class="tool-text">Line</span></button>
            <div class="divider"></div>
            <button class="tool-btn" onclick="document.getElementById('imgInput').click()"><i data-lucide="image" style="width:16px;height:16px"></i> <span class="tool-text">Image</span></button>
            <button class="tool-btn" onclick="openSigModal()"><i data-lucide="pen-line" style="width:16px;height:16px"></i> <span class="tool-text">Sign</span></button>
            <div class="divider"></div>
            <div class="color-wrap">
                <button class="color-btn" id="colorBtn" style="background:#000" onclick="toggleColor()"></button>
                <div class="color-menu" id="colorMenu"></div>
            </div>
            <select id="fontSizeSelect" onchange="fontSize=parseInt(this.value)">
                <option value="12">12px</option><option value="14">14px</option><option value="16" selected>16px</option><option value="18">18px</option><option value="20">20px</option><option value="24">24px</option><option value="32">32px</option>
            </select>
            <div class="divider"></div>
            <button class="tool-btn" onclick="undo()"><i data-lucide="undo-2" style="width:16px;height:16px"></i></button>
            <button class="tool-btn danger" onclick="delSelected()"><i data-lucide="trash-2" style="width:16px;height:16px"></i></button>
            <div class="page-nav">
                <button class="nav-btn" onclick="zoomOut()"><i data-lucide="minus" style="width:16px;height:16px"></i></button>
                <span class="zoom-info" id="zoomLvl">100%</span>
                <button class="nav-btn" onclick="zoomIn()"><i data-lucide="plus" style="width:16px;height:16px"></i></button>
                <div class="divider"></div>
                <button class="nav-btn" id="prevBtn" onclick="prevPage()"><i data-lucide="chevron-left" style="width:16px;height:16px"></i></button>
                <span class="page-info" id="pageInfo">1/1</span>
                <button class="nav-btn" id="nextBtn" onclick="nextPage()"><i data-lucide="chevron-right" style="width:16px;height:16px"></i></button>
            </div>
        </nav>
        <div class="editor-main">
            <aside class="sidebar" id="sidebar"></aside>
            <section class="canvas-area">
                <div class="canvas-wrap" id="canvasWrap">
                    <canvas id="pdfCanvas"></canvas>
                    <canvas id="editCanvas"></canvas>
                    <div class="selection-rect" id="selRect"></div>
                    <div class="text-overlay" id="textOverlay"><textarea id="textInput"></textarea></div>
                </div>
            </section>
            <div class="link-popup" id="linkPopup">
                <h4><i data-lucide="link" style="width:20px;height:20px;color:var(--primary)"></i> Add Clickable Link</h4>
                <p>Enter the URL you want to link to:</p>
                <input type="url" id="linkUrlInput" placeholder="https://example.com">
                <div class="link-popup-btns">
                    <button class="btn btn-ghost" onclick="cancelLink()">Cancel</button>
                    <button class="btn btn-primary" onclick="confirmLink()">Add Link</button>
                </div>
            </div>
            <aside class="right-panel">
                <div class="panel-title">Elements</div>
                <div id="elemList"></div>
                <p id="noElem" style="font-size:11px;color:var(--text-light);text-align:center;padding:18px">No elements yet</p>
                <div class="help-box">
                    <strong>Quick Tips</strong>
                    <ul>
                        <li><strong>Text/Link:</strong> Drag to create</li>
                        <li><strong>Select:</strong> Click & drag to move</li>
                        <li><strong>Resize:</strong> Drag corner handles</li>
                        <li><strong>Delete:</strong> Press Delete key</li>
                    </ul>
                </div>
            </aside>
        </div>
    </div>

    <!-- Signature Modal -->
    <div class="modal-bg" id="sigModal">
        <div class="modal">
            <h3><i data-lucide="pen-line" style="width:22px;height:22px;color:var(--primary)"></i> Draw Your Signature</h3>
            <canvas id="sigCanvas" class="sig-canvas"></canvas>
            <div class="modal-btns">
                <button class="btn btn-ghost" onclick="clearSig()">Clear</button>
                <button class="btn btn-primary" onclick="addSig()">Add Signature</button>
            </div>
        </div>
    </div>
    <input type="file" id="imgInput" accept="image/*" style="display:none">

    <!-- PDF.js & pdf-lib -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>
    <script>
        /* ===== FAQ TOGGLE ===== */
        function toggleFaq(btn){
            const item=btn.closest('.faq-item');
            const wasOpen=item.classList.contains('open');
            document.querySelectorAll('.faq-item').forEach(i=>{i.classList.remove('open');i.querySelector('.faq-question').setAttribute('aria-expanded','false')});
            if(!wasOpen){item.classList.add('open');btn.setAttribute('aria-expanded','true')}
        }

        /* ===== ALL ORIGINAL EDITOR JS (unchanged) ===== */
        pdfjsLib.GlobalWorkerOptions.workerSrc='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.worker.min.js';
        let pdfDoc,pdfFile,curPage=1,totalPages=0,scale=1.5,tool='text',color='#000000',fontSize=16,stroke=2,elems={},curElems=[],selIdx=null,undoStack=[],isDrawing=false,startX=0,startY=0,curX=0,curY=0,isDragging=false,dragOffX=0,dragOffY=0,pendingLink=null,isResizing=false,resizeHandle=null,resizeStartX=0,resizeStartY=0,resizeOriginal=null;
        const HANDLE_SIZE=10,pdfC=document.getElementById('pdfCanvas'),pdfCtx=pdfC.getContext('2d'),editC=document.getElementById('editCanvas'),editCtx=editC.getContext('2d'),selRect=document.getElementById('selRect'),colors=['#000000','#333333','#ef4444','#f97316','#eab308','#22c55e','#3b82f6','#8b5cf6','#ec4899','#14b8a6','#6366f1','#ffffff'];
        document.getElementById('colorMenu').innerHTML='<div class="color-grid">'+colors.map(c=>`<div class="color-swatch" style="background:${c};${c==='#ffffff'?'border:1px solid var(--border)':''}" onclick="pickColor('${c}')"></div>`).join('')+'</div>';
        function pickColor(c){color=c;document.getElementById('colorBtn').style.background=c;document.getElementById('colorMenu').classList.remove('show')}
        function toggleColor(){document.getElementById('colorMenu').classList.toggle('show')}
        const uploadArea=document.getElementById('uploadArea');
        uploadArea.onclick=()=>document.getElementById('fileInput').click();
        uploadArea.onkeydown=e=>{if(e.key==='Enter'||e.key===' ')document.getElementById('fileInput').click()};
        uploadArea.ondragover=e=>{e.preventDefault();uploadArea.style.borderColor='var(--primary)'};
        uploadArea.ondragleave=()=>uploadArea.style.borderColor='var(--border)';
        uploadArea.ondrop=e=>{e.preventDefault();uploadArea.style.borderColor='var(--border)';if(e.dataTransfer.files[0])loadPDF(e.dataTransfer.files[0])};
        document.getElementById('fileInput').onchange=e=>{if(e.target.files[0])loadPDF(e.target.files[0])};
        async function loadPDF(file){if(file.type!=='application/pdf'){alert('Please select a PDF!');return}showLoad('Loading PDF...');pdfFile=file;try{const buf=await file.arrayBuffer();pdfDoc=await pdfjsLib.getDocument({data:buf}).promise;totalPages=pdfDoc.numPages;document.getElementById('uploadScreen').style.display='none';document.getElementById('editorScreen').style.display='flex';await renderPage(1);await genThumbs();hideLoad();toast('PDF loaded! Start editing.')}catch(err){alert('Error: '+err.message);hideLoad()}}
        async function renderPage(n){if(curElems.length)elems[curPage]=[...curElems];curPage=n;curElems=elems[n]||[];selIdx=null;const pg=await pdfDoc.getPage(n),vp=pg.getViewport({scale});pdfC.width=vp.width;pdfC.height=vp.height;editC.width=vp.width;editC.height=vp.height;await pg.render({canvasContext:pdfCtx,viewport:vp}).promise;redraw();updateInfo()}
        function redraw(){editCtx.clearRect(0,0,editC.width,editC.height);curElems.forEach((el,i)=>drawEl(el,i===selIdx));updateList()}
        function drawEl(el,sel){editCtx.save();if(el.type==='text'){editCtx.font=`${el.fs}px 'DM Sans',sans-serif`;editCtx.fillStyle=el.color;editCtx.textBaseline='top';const words=el.text.split(' ');let line='',y=el.y;const maxW=el.w-4;for(const word of words){const test=line+word+' ';if(editCtx.measureText(test).width>maxW&&line){editCtx.fillText(line.trim(),el.x+2,y);line=word+' ';y+=el.fs+2}else{line=test}}editCtx.fillText(line.trim(),el.x+2,y);if(sel)drawSelectionBox(el.x,el.y,el.w,el.h)}else if(el.type==='link'){if(sel){editCtx.strokeStyle='#7c3aed';editCtx.lineWidth=2;editCtx.strokeRect(el.x,el.y,el.w,el.h);drawResizeHandles(el.x,el.y,el.w,el.h)}else{editCtx.strokeStyle='rgba(124,58,237,0.3)';editCtx.lineWidth=1;editCtx.setLineDash([4,4]);editCtx.strokeRect(el.x,el.y,el.w,el.h);editCtx.setLineDash([])}editCtx.font='12px Arial';editCtx.fillStyle='rgba(124,58,237,0.5)';editCtx.fillText('üîó',el.x+2,el.y+14)}else if(el.type==='draw'||el.type==='highlight'){if(el.path&&el.path.length>1){editCtx.beginPath();editCtx.moveTo(el.path[0].x,el.path[0].y);el.path.forEach(p=>editCtx.lineTo(p.x,p.y));editCtx.strokeStyle=el.type==='highlight'?'rgba(255,235,59,0.5)':el.color;editCtx.lineWidth=el.type==='highlight'?20:el.sw;editCtx.lineCap='round';editCtx.lineJoin='round';editCtx.stroke();if(sel){const b=getBounds(el);if(b)drawSelectionBox(b.x,b.y,b.w,b.h)}}}else if(el.type==='rect'){editCtx.strokeStyle=el.color;editCtx.lineWidth=el.sw;editCtx.strokeRect(el.x,el.y,el.w,el.h);if(sel)drawSelectionBox(el.x,el.y,el.w,el.h)}else if(el.type==='circle'){editCtx.beginPath();editCtx.ellipse(el.x+el.w/2,el.y+el.h/2,Math.abs(el.w/2),Math.abs(el.h/2),0,0,Math.PI*2);editCtx.strokeStyle=el.color;editCtx.lineWidth=el.sw;editCtx.stroke();if(sel)drawSelectionBox(el.x,el.y,el.w,el.h)}else if(el.type==='line'){editCtx.beginPath();editCtx.moveTo(el.x,el.y);editCtx.lineTo(el.x+el.w,el.y+el.h);editCtx.strokeStyle=el.color;editCtx.lineWidth=el.sw;editCtx.stroke();if(sel){editCtx.fillStyle='#7c3aed';editCtx.fillRect(el.x-HANDLE_SIZE/2,el.y-HANDLE_SIZE/2,HANDLE_SIZE,HANDLE_SIZE);editCtx.fillRect(el.x+el.w-HANDLE_SIZE/2,el.y+el.h-HANDLE_SIZE/2,HANDLE_SIZE,HANDLE_SIZE);editCtx.strokeStyle='white';editCtx.lineWidth=1;editCtx.strokeRect(el.x-HANDLE_SIZE/2,el.y-HANDLE_SIZE/2,HANDLE_SIZE,HANDLE_SIZE);editCtx.strokeRect(el.x+el.w-HANDLE_SIZE/2,el.y+el.h-HANDLE_SIZE/2,HANDLE_SIZE,HANDLE_SIZE)}}else if(el.type==='image'&&el.img){editCtx.drawImage(el.img,el.x,el.y,el.w,el.h);if(sel)drawSelectionBox(el.x,el.y,el.w,el.h)}editCtx.restore()}
        function drawSelectionBox(x,y,w,h){editCtx.save();editCtx.strokeStyle='#7c3aed';editCtx.lineWidth=2;editCtx.setLineDash([4,4]);editCtx.strokeRect(x,y,w,h);editCtx.setLineDash([]);editCtx.restore();drawResizeHandles(x,y,w,h)}
        function drawResizeHandles(x,y,w,h){editCtx.save();editCtx.fillStyle='#7c3aed';editCtx.strokeStyle='white';editCtx.lineWidth=1;const hs=HANDLE_SIZE,handles=[{hx:x-hs/2,hy:y-hs/2},{hx:x+w-hs/2,hy:y-hs/2},{hx:x-hs/2,hy:y+h-hs/2},{hx:x+w-hs/2,hy:y+h-hs/2},{hx:x+w/2-hs/2,hy:y-hs/2},{hx:x+w/2-hs/2,hy:y+h-hs/2},{hx:x-hs/2,hy:y+h/2-hs/2},{hx:x+w-hs/2,hy:y+h/2-hs/2}];handles.forEach(({hx,hy})=>{editCtx.fillRect(hx,hy,hs,hs);editCtx.strokeRect(hx,hy,hs,hs)});editCtx.restore()}
        function getResizeHandle(el,mx,my){const b=getBounds(el);if(!b)return null;const{x,y,w,h}=b,hs=HANDLE_SIZE,tolerance=hs/2+2;if(Math.abs(mx-x)<tolerance&&Math.abs(my-y)<tolerance)return'tl';if(Math.abs(mx-(x+w))<tolerance&&Math.abs(my-y)<tolerance)return'tr';if(Math.abs(mx-x)<tolerance&&Math.abs(my-(y+h))<tolerance)return'bl';if(Math.abs(mx-(x+w))<tolerance&&Math.abs(my-(y+h))<tolerance)return'br';if(Math.abs(mx-(x+w/2))<tolerance&&Math.abs(my-y)<tolerance)return't';if(Math.abs(mx-(x+w/2))<tolerance&&Math.abs(my-(y+h))<tolerance)return'b';if(Math.abs(mx-x)<tolerance&&Math.abs(my-(y+h/2))<tolerance)return'l';if(Math.abs(mx-(x+w))<tolerance&&Math.abs(my-(y+h/2))<tolerance)return'r';if(el.type==='line'){if(Math.abs(mx-el.x)<tolerance&&Math.abs(my-el.y)<tolerance)return'lineStart';if(Math.abs(mx-(el.x+el.w))<tolerance&&Math.abs(my-(el.y+el.h))<tolerance)return'lineEnd'}return null}
        function getResizeCursor(handle){const cursors={'tl':'nwse-resize','br':'nwse-resize','tr':'nesw-resize','bl':'nesw-resize','t':'ns-resize','b':'ns-resize','l':'ew-resize','r':'ew-resize','lineStart':'move','lineEnd':'move'};return cursors[handle]||'default'}
        function getBounds(el){if(el.type==='draw'||el.type==='highlight'){if(!el.path||!el.path.length)return null;let minX=Infinity,minY=Infinity,maxX=-Infinity,maxY=-Infinity;el.path.forEach(p=>{minX=Math.min(minX,p.x);minY=Math.min(minY,p.y);maxX=Math.max(maxX,p.x);maxY=Math.max(maxY,p.y)});return{x:minX,y:minY,w:maxX-minX,h:maxY-minY}}return{x:el.x,y:el.y,w:el.w,h:el.h}}
        function updateList(){const list=document.getElementById('elemList'),noEl=document.getElementById('noElem');list.innerHTML='';if(!curElems.length){noEl.style.display='block';return}noEl.style.display='none';const icons={text:'T',link:'üîó',draw:'‚úé',highlight:'H',rect:'‚ñ¢',circle:'‚óã',line:'‚Äî',image:'‚ñ£'};curElems.forEach((el,i)=>{const d=document.createElement('div');d.className='element-item'+(i===selIdx?' selected':'');d.innerHTML=`<span style="font-weight:600">${icons[el.type]||'‚Ä¢'} ${el.type}</span><button class="del-btn" onclick="event.stopPropagation();delEl(${i})">√ó</button>`;d.onclick=()=>{selIdx=i;redraw()};list.appendChild(d)})}
        async function genThumbs(){const sb=document.getElementById('sidebar');sb.innerHTML='';for(let i=1;i<=totalPages;i++){const pg=await pdfDoc.getPage(i),vp=pg.getViewport({scale:0.15}),c=document.createElement('canvas');c.width=vp.width;c.height=vp.height;await pg.render({canvasContext:c.getContext('2d'),viewport:vp}).promise;const th=document.createElement('div');th.className='thumb'+(i===1?' active':'');th.dataset.p=i;th.innerHTML=`<img src="${c.toDataURL()}" alt="Page ${i}"><div class="thumb-num">${i}</div>`;th.onclick=()=>renderPage(i);sb.appendChild(th)}}
        function updateInfo(){document.getElementById('pageInfo').textContent=`${curPage}/${totalPages}`;document.getElementById('prevBtn').disabled=curPage<=1;document.getElementById('nextBtn').disabled=curPage>=totalPages;document.querySelectorAll('.thumb').forEach(t=>t.classList.toggle('active',+t.dataset.p===curPage))}
        editC.onmousedown=e=>{const r=editC.getBoundingClientRect();startX=e.clientX-r.left;startY=e.clientY-r.top;hideOverlays();if(tool==='select'){if(selIdx!==null){const el=curElems[selIdx],handle=getResizeHandle(el,startX,startY);if(handle){isResizing=true;resizeHandle=handle;resizeStartX=startX;resizeStartY=startY;resizeOriginal=JSON.parse(JSON.stringify(el));if(el.path)resizeOriginal.path=el.path.map(p=>({...p}));saveUndo();return}}let found=null;for(let i=curElems.length-1;i>=0;i--){if(hitTest(curElems[i],startX,startY)){found=i;break}}if(found!==null){selIdx=found;isDragging=true;const el=curElems[selIdx],b=getBounds(el);dragOffX=startX-b.x;dragOffY=startY-b.y;saveUndo()}else{selIdx=null}redraw()}else if(tool==='draw'||tool==='highlight'){isDrawing=true;saveUndo();curElems.push({type:tool,path:[{x:startX,y:startY}],color,sw:stroke})}else{isDrawing=true;selRect.style.display='block';selRect.style.left=startX+'px';selRect.style.top=startY+'px';selRect.style.width='0';selRect.style.height='0'}};
        editC.onmousemove=e=>{const r=editC.getBoundingClientRect();curX=e.clientX-r.left;curY=e.clientY-r.top;if(isResizing&&selIdx!==null){const el=curElems[selIdx],dx=curX-resizeStartX,dy=curY-resizeStartY;resizeElement(el,resizeHandle,dx,dy,resizeOriginal);redraw()}else if(isDragging&&selIdx!==null){const el=curElems[selIdx];if(el.type==='draw'||el.type==='highlight'){const b=getBounds(el),dx=curX-dragOffX-b.x,dy=curY-dragOffY-b.y;el.path.forEach(p=>{p.x+=dx;p.y+=dy});dragOffX=curX-b.x-dx;dragOffY=curY-b.y-dy}else{el.x=curX-dragOffX;el.y=curY-dragOffY}redraw()}else if(isDrawing){if(tool==='draw'||tool==='highlight'){curElems[curElems.length-1].path.push({x:curX,y:curY});redraw()}else{const w=curX-startX,h=curY-startY;selRect.style.left=(w<0?curX:startX)+'px';selRect.style.top=(h<0?curY:startY)+'px';selRect.style.width=Math.abs(w)+'px';selRect.style.height=Math.abs(h)+'px'}}else if(tool==='select'){let cursor='default';if(selIdx!==null){const handle=getResizeHandle(curElems[selIdx],curX,curY);if(handle)cursor=getResizeCursor(handle)}if(cursor==='default'){for(let i=curElems.length-1;i>=0;i--){if(hitTest(curElems[i],curX,curY)){cursor='move';break}}}editC.style.cursor=cursor}};
        editC.onmouseup=()=>{if(isResizing){isResizing=false;resizeHandle=null;resizeOriginal=null;redraw();return}if(isDrawing){isDrawing=false;selRect.style.display='none';if(tool!=='draw'&&tool!=='highlight'){const x=Math.min(startX,curX),y=Math.min(startY,curY),w=Math.abs(curX-startX),h=Math.abs(curY-startY);if(w>10&&h>10){if(tool==='text')showTextInput(x,y,w,h);else if(tool==='link')showLinkPopup(x,y,w,h);else if(tool==='rect'){saveUndo();curElems.push({type:'rect',x,y,w,h,color,sw:stroke});selIdx=curElems.length-1;redraw()}else if(tool==='circle'){saveUndo();curElems.push({type:'circle',x,y,w,h,color,sw:stroke});selIdx=curElems.length-1;redraw()}else if(tool==='line'){saveUndo();curElems.push({type:'line',x:startX,y:startY,w:curX-startX,h:curY-startY,color,sw:stroke});selIdx=curElems.length-1;redraw()}}}else{redraw()}}isDragging=false};
        editC.ontouchstart=e=>{e.preventDefault();const touch=e.touches[0],mouseEvent=new MouseEvent('mousedown',{clientX:touch.clientX,clientY:touch.clientY});editC.dispatchEvent(mouseEvent)};
        editC.ontouchmove=e=>{e.preventDefault();const touch=e.touches[0],mouseEvent=new MouseEvent('mousemove',{clientX:touch.clientX,clientY:touch.clientY});editC.dispatchEvent(mouseEvent)};
        editC.ontouchend=()=>{editC.dispatchEvent(new MouseEvent('mouseup'))};
        function resizeElement(el,handle,dx,dy,orig){const minSize=20;if(el.type==='line'){if(handle==='lineStart'){el.x=orig.x+dx;el.y=orig.y+dy;el.w=orig.w-dx;el.h=orig.h-dy}else if(handle==='lineEnd'){el.w=orig.w+dx;el.h=orig.h+dy}return}if(el.type==='draw'||el.type==='highlight'){const origBounds={x:Math.min(...orig.path.map(p=>p.x)),y:Math.min(...orig.path.map(p=>p.y)),w:Math.max(...orig.path.map(p=>p.x))-Math.min(...orig.path.map(p=>p.x)),h:Math.max(...orig.path.map(p=>p.y))-Math.min(...orig.path.map(p=>p.y))};let newX=origBounds.x,newY=origBounds.y,newW=origBounds.w,newH=origBounds.h;if(handle.includes('l')){newX=origBounds.x+dx;newW=origBounds.w-dx}if(handle.includes('r')||handle==='r'){newW=origBounds.w+dx}if(handle.includes('t')&&handle!=='tr'){newY=origBounds.y+dy;newH=origBounds.h-dy}if(handle==='t'){newY=origBounds.y+dy;newH=origBounds.h-dy}if(handle.includes('b')||handle==='b'){newH=origBounds.h+dy}if(handle==='tr'){newW=origBounds.w+dx;newY=origBounds.y+dy;newH=origBounds.h-dy}if(newW<minSize)newW=minSize;if(newH<minSize)newH=minSize;const scaleX=newW/(origBounds.w||1),scaleY=newH/(origBounds.h||1);el.path=orig.path.map(p=>({x:newX+(p.x-origBounds.x)*scaleX,y:newY+(p.y-origBounds.y)*scaleY}));return}let newX=orig.x,newY=orig.y,newW=orig.w,newH=orig.h;switch(handle){case'tl':newX=orig.x+dx;newY=orig.y+dy;newW=orig.w-dx;newH=orig.h-dy;break;case'tr':newY=orig.y+dy;newW=orig.w+dx;newH=orig.h-dy;break;case'bl':newX=orig.x+dx;newW=orig.w-dx;newH=orig.h+dy;break;case'br':newW=orig.w+dx;newH=orig.h+dy;break;case't':newY=orig.y+dy;newH=orig.h-dy;break;case'b':newH=orig.h+dy;break;case'l':newX=orig.x+dx;newW=orig.w-dx;break;case'r':newW=orig.w+dx;break}if(newW<minSize){newW=minSize;if(handle.includes('l'))newX=orig.x+orig.w-minSize}if(newH<minSize){newH=minSize;if(handle.includes('t'))newY=orig.y+orig.h-minSize}el.x=newX;el.y=newY;el.w=newW;el.h=newH}
        function hitTest(el,x,y){const b=getBounds(el);if(!b)return false;return x>=b.x-5&&x<=b.x+b.w+5&&y>=b.y-5&&y<=b.y+b.h+5}
        function hideOverlays(){document.getElementById('textOverlay').classList.remove('show');document.getElementById('linkPopup').classList.remove('show')}
        function showTextInput(x,y,w,h){const overlay=document.getElementById('textOverlay'),input=document.getElementById('textInput');overlay.style.left=x+'px';overlay.style.top=y+'px';overlay.classList.add('show');input.style.width=w+'px';input.style.height=h+'px';input.style.fontSize=fontSize+'px';input.style.color=color;input.value='';input.dataset.x=x;input.dataset.y=y;input.dataset.w=w;input.dataset.h=h;input.focus()}
        document.getElementById('textInput').onblur=function(){const text=this.value.trim();if(text){saveUndo();curElems.push({type:'text',text,x:+this.dataset.x,y:+this.dataset.y,w:+this.dataset.w,h:+this.dataset.h,color,fs:fontSize});selIdx=curElems.length-1;redraw()}document.getElementById('textOverlay').classList.remove('show')};
        document.getElementById('textInput').onkeydown=e=>{if(e.key==='Escape')document.getElementById('textOverlay').classList.remove('show')};
        function showLinkPopup(x,y,w,h){pendingLink={x,y,w,h};document.getElementById('linkPopup').classList.add('show');const input=document.getElementById('linkUrlInput');input.value='https://';input.focus();input.setSelectionRange(8,8);redraw();editCtx.strokeStyle='#7c3aed';editCtx.lineWidth=2;editCtx.setLineDash([6,4]);editCtx.strokeRect(x,y,w,h);editCtx.setLineDash([])}
        function confirmLink(){const url=document.getElementById('linkUrlInput').value.trim();if(!url||url==='https://'){alert('Please enter a URL!');return}if(pendingLink){saveUndo();curElems.push({type:'link',url,x:pendingLink.x,y:pendingLink.y,w:pendingLink.w,h:pendingLink.h});selIdx=curElems.length-1;toast('Link added! Clickable in PDF.')}pendingLink=null;document.getElementById('linkPopup').classList.remove('show');redraw()}
        function cancelLink(){pendingLink=null;document.getElementById('linkPopup').classList.remove('show');redraw()}
        document.getElementById('linkUrlInput').onkeydown=e=>{if(e.key==='Enter')confirmLink();if(e.key==='Escape')cancelLink()};
        function setTool(t){tool=t;document.querySelectorAll('.tool-btn').forEach(b=>b.classList.remove('active'));const btn=document.getElementById('btn'+t.charAt(0).toUpperCase()+t.slice(1));if(btn)btn.classList.add('active');editC.style.cursor=t==='select'?'default':'crosshair'}
        document.getElementById('imgInput').onchange=e=>{if(!e.target.files[0])return;const rd=new FileReader();rd.onload=ev=>{const img=new Image();img.onload=()=>{let w=img.width,h=img.height;const mx=200;if(w>mx||h>mx){const r=mx/Math.max(w,h);w*=r;h*=r}saveUndo();curElems.push({type:'image',img,src:ev.target.result,x:editC.width/2-w/2,y:editC.height/2-h/2,w,h});selIdx=curElems.length-1;setTool('select');redraw()};img.src=ev.target.result};rd.readAsDataURL(e.target.files[0]);e.target.value=''};
        let sigCtx,sigDraw=false;
        function openSigModal(){document.getElementById('sigModal').classList.add('show');const c=document.getElementById('sigCanvas');sigCtx=c.getContext('2d');c.width=c.offsetWidth;c.height=c.offsetHeight;sigCtx.fillStyle='white';sigCtx.fillRect(0,0,c.width,c.height);let lx,ly;c.onmousedown=e=>{sigDraw=true;[lx,ly]=[e.offsetX,e.offsetY]};c.onmousemove=e=>{if(!sigDraw)return;sigCtx.beginPath();sigCtx.moveTo(lx,ly);sigCtx.lineTo(e.offsetX,e.offsetY);sigCtx.strokeStyle='#000';sigCtx.lineWidth=2;sigCtx.lineCap='round';sigCtx.stroke();[lx,ly]=[e.offsetX,e.offsetY]};c.onmouseup=c.onmouseleave=()=>sigDraw=false;c.ontouchstart=e=>{e.preventDefault();sigDraw=true;const rect=c.getBoundingClientRect();lx=e.touches[0].clientX-rect.left;ly=e.touches[0].clientY-rect.top};c.ontouchmove=e=>{e.preventDefault();if(!sigDraw)return;const rect=c.getBoundingClientRect(),x=e.touches[0].clientX-rect.left,y=e.touches[0].clientY-rect.top;sigCtx.beginPath();sigCtx.moveTo(lx,ly);sigCtx.lineTo(x,y);sigCtx.strokeStyle='#000';sigCtx.lineWidth=2;sigCtx.lineCap='round';sigCtx.stroke();[lx,ly]=[x,y]};c.ontouchend=()=>sigDraw=false}
        function clearSig(){const c=document.getElementById('sigCanvas');sigCtx.fillStyle='white';sigCtx.fillRect(0,0,c.width,c.height)}
        function addSig(){const c=document.getElementById('sigCanvas'),url=c.toDataURL(),img=new Image();img.onload=()=>{saveUndo();curElems.push({type:'image',img,src:url,x:editC.width/2-100,y:editC.height/2-40,w:200,h:80});selIdx=curElems.length-1;setTool('select');redraw()};img.src=url;document.getElementById('sigModal').classList.remove('show')}
        function delSelected(){if(selIdx!==null){saveUndo();curElems.splice(selIdx,1);selIdx=null;redraw()}}
        function delEl(i){saveUndo();curElems.splice(i,1);selIdx=null;redraw()}
        function saveUndo(){undoStack.push(JSON.stringify(curElems));if(undoStack.length>30)undoStack.shift()}
        function undo(){if(undoStack.length){curElems=JSON.parse(undoStack.pop());curElems.forEach(el=>{if(el.type==='image'&&el.src){const img=new Image();img.src=el.src;el.img=img}});selIdx=null;redraw()}}
        function prevPage(){if(curPage>1)renderPage(curPage-1)}
        function nextPage(){if(curPage<totalPages)renderPage(curPage+1)}
        function zoomIn(){scale=Math.min(scale+0.25,3);document.getElementById('zoomLvl').textContent=Math.round(scale/1.5*100)+'%';renderPage(curPage)}
        function zoomOut(){scale=Math.max(scale-0.25,0.5);document.getElementById('zoomLvl').textContent=Math.round(scale/1.5*100)+'%';renderPage(curPage)}
        async function downloadPDF(){showLoad('Creating PDF...');elems[curPage]=[...curElems];try{const buf=await pdfFile.arrayBuffer(),doc=await PDFLib.PDFDocument.load(buf);for(let p=1;p<=totalPages;p++){const els=elems[p]||[];if(!els.length)continue;const pg=doc.getPages()[p-1],{width,height}=pg.getSize(),tc=document.createElement('canvas'),tpg=await pdfDoc.getPage(p),tvp=tpg.getViewport({scale:1});tc.width=tvp.width;tc.height=tvp.height;const tctx=tc.getContext('2d'),rt=1/scale;for(const el of els){tctx.save();if(el.type==='text'){tctx.font=`${el.fs*rt}px 'DM Sans',sans-serif`;tctx.fillStyle=el.color;tctx.textBaseline='top';const words=el.text.split(' ');let line='',y=el.y*rt;const maxW=el.w*rt-4;for(const word of words){const test=line+word+' ';if(tctx.measureText(test).width>maxW&&line){tctx.fillText(line.trim(),el.x*rt+2,y);line=word+' ';y+=(el.fs+2)*rt}else{line=test}}tctx.fillText(line.trim(),el.x*rt+2,y)}else if(el.type==='link'){}else if((el.type==='draw'||el.type==='highlight')&&el.path&&el.path.length>1){tctx.beginPath();tctx.moveTo(el.path[0].x*rt,el.path[0].y*rt);el.path.forEach(pt=>tctx.lineTo(pt.x*rt,pt.y*rt));tctx.strokeStyle=el.type==='highlight'?'rgba(255,235,59,0.5)':el.color;tctx.lineWidth=(el.type==='highlight'?20:el.sw)*rt;tctx.lineCap='round';tctx.stroke()}else if(el.type==='rect'){tctx.strokeStyle=el.color;tctx.lineWidth=el.sw*rt;tctx.strokeRect(el.x*rt,el.y*rt,el.w*rt,el.h*rt)}else if(el.type==='circle'){tctx.beginPath();tctx.ellipse((el.x+el.w/2)*rt,(el.y+el.h/2)*rt,Math.abs(el.w/2)*rt,Math.abs(el.h/2)*rt,0,0,Math.PI*2);tctx.strokeStyle=el.color;tctx.lineWidth=el.sw*rt;tctx.stroke()}else if(el.type==='line'){tctx.beginPath();tctx.moveTo(el.x*rt,el.y*rt);tctx.lineTo((el.x+el.w)*rt,(el.y+el.h)*rt);tctx.strokeStyle=el.color;tctx.lineWidth=el.sw*rt;tctx.stroke()}else if(el.type==='image'&&el.src){await new Promise(res=>{const im=new Image();im.onload=()=>{tctx.drawImage(im,el.x*rt,el.y*rt,el.w*rt,el.h*rt);res()};im.onerror=res;im.src=el.src})}tctx.restore()}const png=await doc.embedPng(tc.toDataURL('image/png'));pg.drawImage(png,{x:0,y:0,width,height});for(const el of els){if(el.type==='link'){const rt=1/scale,x1=el.x*rt*(width/tvp.width),y1=height-(el.y*rt*(height/tvp.height)),x2=(el.x+el.w)*rt*(width/tvp.width),y2=height-((el.y+el.h)*rt*(height/tvp.height)),linkAnnotation=pg.doc.context.obj({Type:'Annot',Subtype:'Link',Rect:[x1,y2,x2,y1],Border:[0,0,0],A:{Type:'Action',S:'URI',URI:PDFLib.PDFString.of(el.url)}}),linkRef=pg.doc.context.register(linkAnnotation),annots=pg.node.lookup(PDFLib.PDFName.of('Annots'));if(annots){annots.push(linkRef)}else{pg.node.set(PDFLib.PDFName.of('Annots'),pg.doc.context.obj([linkRef]))}}}}const bytes=await doc.save(),blob=new Blob([bytes],{type:'application/pdf'}),url=URL.createObjectURL(blob),a=document.createElement('a');a.href=url;a.download='edited_'+pdfFile.name;a.click();URL.revokeObjectURL(url);hideLoad();toast('PDF downloaded!')}catch(err){console.error(err);alert('Error: '+err.message);hideLoad()}}
        function showLoad(t){document.getElementById('loadingText').textContent=t;document.getElementById('loading').classList.add('show')}
        function hideLoad(){document.getElementById('loading').classList.remove('show')}
        function toast(msg){const t=document.getElementById('toast');t.textContent=msg;t.classList.add('show');setTimeout(()=>t.classList.remove('show'),3000)}
        document.onclick=e=>{if(!e.target.closest('.color-wrap'))document.getElementById('colorMenu').classList.remove('show');if(e.target.classList.contains('modal-bg'))e.target.classList.remove('show')};
        document.onkeydown=e=>{if(e.key==='Delete'&&selIdx!==null&&!['INPUT','TEXTAREA'].includes(document.activeElement.tagName))delSelected();if(e.ctrlKey&&e.key==='z'){e.preventDefault();undo()}if(e.key==='Escape')hideOverlays()};
        lucide.createIcons();
    </script>
</body>
</html>
